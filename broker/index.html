<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>MQTT Console Logger</title>
</head>
<body>
    <h2>MQTT Console Logger</h2>
    <p>–í—ñ–¥–∫—Ä–∏–π—Ç–µ DevTools ‚Üí Console –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å</p>

    <!-- MQTT.js —á–µ—Ä–µ–∑ CDN -->
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>

    <script>
        // ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±—Ä–æ–∫–µ—Ä–∞
        const brokerUrl = 'ws://localhost:8083/mqtt'; // –∑–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à –±—Ä–æ–∫–µ—Ä
        const topic = 'test/topic';

        // –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
        const client = mqtt.connect(brokerUrl);

        client.on('connect', function () {
            console.log('‚úÖ –ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –¥–æ MQTT –±—Ä–æ–∫–µ—Ä–∞');

            client.subscribe(topic, function (err) {
                if (!err) {
                    console.log('üì° –ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–æ–ø—ñ–∫:', topic);
                } else {
                    console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–ø–∏—Å–∫–∏:', err);
                }
            });
        });

        client.on('message', function (topic, message) {
            console.log('üì® –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —Ç–æ–ø—ñ–∫–∞:', topic);
            console.log('üì¶ –î–∞–Ω—ñ:', message.toString());
        });

        client.on('error', function (err) {
            console.error('‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ MQTT:', err);
        });
    </script>
</body>
</html>